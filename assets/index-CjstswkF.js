import{c as e}from"./index-Lmutc_n-.js";import{L as t}from"./link-CVtCzYzM.js";import{A as l}from"./Avatar-CazhFJZy.js";function n(){return e("article",{className:"text-sm mt-10 flex flex-col gap-6 [&_p]:text-justify"},e("header",null,e("nav",{className:"mb-4"},e(l,null),e(t,{to:"/now"},e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"hover:text-yellow-500 hover:scale-80 transition"},e("path",{d:"M13 9a1 1 0 0 1-1-1V5.061a1 1 0 0 0-1.811-.75l-6.835 6.836a1.207 1.207 0 0 0 0 1.707l6.835 6.835a1 1 0 0 0 1.811-.75V16a1 1 0 0 1 1-1h6a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1z"})))),e("h1",{style:"view-transition-name: link-h-buildingcicd",className:"text-2xl font-bold"},"Building Zlorb: A Lightweight CI Daemon in Rust")),e("main",{style:"view-transition-name: buildingcicd-main"},e("p",null,"Hey folks, I recently wrapped up a fun side project called ",e("strong",null,"zlorbrs"),"â€”a simple, systemd-managed continuous integration tool designed for Git-based projects. Inspired by the need for a no-fuss way to monitor repos and auto-trigger builds, it focuses on efficiency without the bloat of enterprise CI systems. Here's a quick recap of what I accomplished, key architectural choices, and the tradeoffs involved."),e("h3",{className:"text-lg my-2 text-yellow-600"},"What We Accomplished"),e("p",null,"In just a few hours, I built a fully functional daemon that"),e("ul",{className:"[&>*]:ml-4 [&>*]:mb-1"},e("li",null," - Monitors multiple Git repositories for changes using the ",e("a",{href:"https://docs.rs/git2/latest/git2/",target:"_blank"},e("code",null,"git2"))," crate ."),e("li",null," - Performs safe fast-forward merges and triggers Bun builds when updates are detected or artifacts (like the ",e("code",null,"dist/")," folder) are missing."),e("li",null," - Includes a CLI (",e("code",null,"zlorbrs-ctl"),") for adding, listing, and removing repos without restarting the service."),e("li",null," - Integrates seamlessly with systemd for reliable, auto-restarting operation.")),e("p",null,"The end result? A tool that keeps your projects built and up-to-date with minimal overheadâ€”",e("i",null,"perfect for personal or small-team workflows.")),e("h3",{className:"text-lg my-2 text-yellow-600"},"Architectural Decisions"),e("p",null,"I chose Rust for its memory safety and performance, structuring the project as a Cargo workspace with three crates: ",e("code",null,"zlorbrs-service")," (",e("i",null,"the core daemon with an infinite monitoring loop"),"), ",e("code",null,"zlorbrs-ctl")," (",e("i",null,"Clap-powered CLI"),"), and ",e("code",null,"zlorbrs-lib")," (",e("i",null,"shared utils for config handling"),"). Configs are stored as JSON files in ",e("code",null,"~/.config/zlorbrs/"),", making setup intuitive and avoiding databases. Deployment uses a ",e("code",null,"justfile")," for building/installing binaries and systemd units, ensuring easy Linux integration. Polling (",e("i",null,"with configurable sleep intervals"),") was picked over webhooks for simplicityâ€”no need for external servers or auth setups."),e("blockquote",null,"Thats the answer the nerds will likely want to hear. In reality, i just like rust and like how easy it is to build and deploy with it."),e("h3",{className:"text-lg my-2 text-yellow-600"},"TradeOffs"),e("p",null,"Going lightweight meant sacrificing advanced features like complex pipelines or parallel builds, which keeps it fast but limits scalability for large teams. Polling is reliable and easy to implement but less efficient than event-driven systems, potentially wasting CPU on idle checks. Tying builds to Bun targets JS/TS devs but excludes other ecosystemsâ€” ",e("i",null,"a deliberate choice for focus over generality"),"."),e("br",null),e("p",null,"Overall, it's a win for quick setups, though it might need extensions for production heavylifting.")),e("footer",null,"Excited to iterate on thisâ€”feedback welcome! Check out the repo for more details. ðŸš€"))}export{n as default};
